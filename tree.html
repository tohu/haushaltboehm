<!doctype html>

<html lang="de">
<head>
  <meta charset="utf-8">
  <title>#haushaltboehm</title>
  <meta name="description" content="Definiere deinen Bundeshaushalt auf #myhaushalt!">
  <meta name="author" content="myhaushalt">
  <link rel="stylesheet" href="css/styles.css?v=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />
</head>

<body>
<!--   <div id='header'>#myhaushalt</div>

  <div class='container'>
    <div id='content'></div>
    <div id='data'></div>
  </div>

  <div id='footer'></div> -->
  
  <div style="font-size: 2em;width:40%; float: left;">BÖHM</div>
  <div style="width:20%; float: left;">Huhn.</div>
  <div style="font-size: 2em;width:40%; float: left;">BÖHM</div>
  
  <button id="export" style="width:10%; background:aquamarine; color:black; float: left;">EXPORT</button>
  <input type="text" id="jsontext" style="width:80%; float: left;"></input>
  <button id="import" style="width:10%; background:pink; color:black; float: left;">IMPORT</button>
  <div style="text-align:center;">Haushaltsgepräche.</div>
  
  <div style="margin-left: 10%;">
    <div id="tree" style="margin-top: 50px;"></div>
  </div>
  
  



  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script> -->
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
  <script>

  

  $(document).ready(function() {
    function make_tree(data) {
      $("#tree").jstree(
        { 'core' : {
            'data' : [ data],
            "check_callback" : true
        },
        "plugins" : [
          "dnd", "contextmenu"
        ]}
      );
    }
    $.getJSON('data/haushalt_2016tree.json', function(data) {
      make_tree(data);
    });
    $('#export').click(function() {
      var v = $('#tree').jstree(true).get_json('#', {flat:true})
      var mytext = JSON.stringify(v);
      $('#jsontext').val(mytext);
    });
    $('#import').click(function() {
      var v = $('#jsontext').val();
      make_tree(v);
    });
  });
  
  </script>

</body>
</html>
